<template name="productDetail">
  {{#with product}}
  {{!-- Product Visibility Admin Block --}}
  {{#if hasPermission "createProduct"}}
    <div class="nav nav-dashboard">
      <div class="nav-dashboard-heading">
        <h3 class="nav-dashboard-title">
           <span data-i18n="productDetail.productManagement">Product management</span>
        </h3>
      </div>
      <div class="nav-dashboard-controls">
        {{#if isVisible}}
          <a href="#" class="toggle-product-isVisible-link" data-i18n="productDetail.makeInvisible">Make invisible</a>
        {{/if}}
        {{#if hasAdminAccess}}
          <a href="#" class="delete-product-link" data-i18n="app.delete">Delete</a>
        {{/if}}
      </div>
    </div>
  {{/if}}
  {{!-- END Product Visibility Admin Block --}}

  <div class="container-main">
    <div class="container-fluid pdp-container">
      {{!-- Product Visibility Admin Block --}}
      {{#if hasPermission "createProduct"}}
        {{#unless isVisible}}
        <div class="row">
          <div class="alert alert-warning">
            <span data-i18n="productDetail.isNotVisible">This product is not visible to customers.</span>
            <a href="#" class="toggle-product-isVisible-link" data-i18n="productDetail.makeItVisible">You can make it visible</a>
            <span data-i18n="productDetail.whenYouAreDone">when you're done editing.</span>
          </div>
          <span id="product-management-alerts">{{> inlineAlerts placement="productManagement"}}</span>
        </div>
        {{/unless}}
      {{/if}}
      {{!-- END Product Visibility Admin Block --}}
       <!-- Product Detail Page -->
      <div class="row" itemscope itemtype="http://schema.org/Product">
        <!-- Titles -->
        <header class="pdp header">
            <div class="title">
              <h1 id="title" itemprop="name">{{>fieldComponent field="title" value=title}}</h1>
            </div>
            <div class="pageTitle">
              <h2 id="pageTitle">{{>fieldComponent field="pageTitle" value=pageTitle}}</h2>
            </div>
        </header>
        <!-- Product Details -->
        <div class="pdp-content">
          <!-- BEGIN Left Side -->
          <div class="pdp column left pdp-left-column">
            {{> productImageGallery}}
            <!-- Product Tags -->
            {{#if showTagTitle}}
              <h3 data-i18n="productDetail.tags">Tags</h3>
            {{/if}}
            {{> tagList tagListProps}}

            {{#if showDetailTitle}}
              <h3 data-i18n="productDetail.details">Details</h3>
            {{/if}}
            {{> metaComponent }}
          </div>
          <!-- END Left Side -->
          <!-- BEGIN Right Side -->
          <div class="pdp column right pdp-right-column">
            <div class="pricing">
              <div class="left">
                {{!-- Price Fixation --}}
                <span class="price">
                  <span id="price" itemprop="price">{{formatPrice actualPrice}}</span>
                </span>
              </div>

              <div class="right">
                {{!-- Social Commentary --}}
                {{#if hasPermission "createProduct"}}
                <div class="social-media">
                  <a href="#"><i class="fa fa-facebook fa-lg"></i></a>
                  <a href="#"><i class="fa fa-twitter fa-lg"></i></a>
                  <a href="#"><i class="fa fa-pinterest fa-lg"> </i></a>
                  <a href="#"><i class="fa fa-google-plus fa-lg"></i></a>
                  <div class="social-media-inputs">

                    <div class="social-input facebook">
                      <label>Facebook Message</label>
                      {{>fieldComponent field="facebookMsg" value=facebookMsg type="textarea"}}
                    </div>

                    <div class="social-input twitter">
                      <div class="twitter"></div>
                      {{>fieldComponent field="twitterMsg" value=twitterMsg type="textarea"}}
                    </div>

                    <div class="social-input pinterest">
                      {{>fieldComponent field="pinterestMsg" value=pinterestMsg type="textarea"}}
                    </div>

                    <div class="social-input googleplus">
                      {{>fieldComponent field="googleplusMsg" value=googleplusMsg type="textarea"}}
                    </div>

                    <div class="controls">
                      {{> button title="Done" primary=true className="js-social-done-btn btn-block"}}
                    </div>
                  </div>
                </div>
                {{else}}
                  {{> productSocial }}
                {{/if}}
              </div>
            </div>

            <div class="vendor">
              {{>fieldComponent field="vendor" value=vendor}}
            </div>

            <!-- main product information -->
            <div class="pdp product-info">
              {{!-- Description --}}
              <div class="description">
                {{>fieldComponent field="description" value=description type="textarea"}}
              </div>

              {{!-- Variants & Options --}}
              <div class="options-add-to-cart">
                <h3 data-i18n="productDetail.options">Options</h3>
                  {{>variantList}}
              </div>

              <hr>

              {{!-- Cart Add Block --}}
              <div class="">
                <span id="product-alerts">{{> inlineAlerts placement="productDetail"}}</span>


                <div class="pdp add-to-cart block">
                  <input type="number" class="form-control input-md" name="addToCartQty" id="add-to-cart-quantity" value="1" min="1"/>
                  <button
                    class="input-group-addon add-to-cart-text js-add-to-cart"
                    data-i18n="productDetail.addToCart">
                    Add to cart
                  </button>
                </div>

                {{!--
                <div class="btn btn-success add-to-cart-block" id="add-to-cart">
                  <div class="add-to-cart-quantity pull-left">
                    <input type="number" class="form-control input-md" name="addToCartQty" id="add-to-cart-quantity" value="1" min="1"/>
                  </div>
                  <div class="add-to-cart-text" data-i18n="productDetail.addToCart">Add to cart</div>
                </div>
                --}}
              </div>

            </div>
            <!-- END Right Side -->
          </div>
        </div>
      </div>
    </div>
  </div>
  {{/with}}
</template>
